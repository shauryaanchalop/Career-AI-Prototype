<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Career Advisor - Career AI</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js for 3D Roadmap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0fdfa',
                            100: '#ccfbf1',
                            500: '#14b8a6',
                            600: '#0d9488',
                            900: '#134e4a',
                        },
                        dark: {
                            800: '#1e1e1e',
                            900: '#121212',
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #e2e8f0; }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chat-bubble-user {
            background: linear-gradient(135deg, #0d9488 0%, #115e59 100%);
            border-radius: 18px 18px 0 18px;
        }
        
        .chat-bubble-ai {
            background: #334155;
            border-radius: 18px 18px 18px 0;
        }

        #roadmap-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="h-screen overflow-hidden flex text-slate-100">

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="fixed inset-0 z-40 bg-black/80 hidden lg:hidden backdrop-blur-sm" onclick="toggleMobileMenu()"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 border-r border-slate-800 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 flex flex-col">
        <div class="p-6 border-b border-slate-800 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-tr from-teal-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-teal-500/20">
                    <i data-lucide="brain-circuit" class="text-white w-6 h-6"></i>
                </div>
                <div>
                    <h1 class="font-bold text-lg tracking-tight text-white">CareerAI</h1>
                    <p class="text-xs text-slate-400"></p>
                </div>
            </div>
            <button class="lg:hidden text-slate-400" onclick="toggleMobileMenu()">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>

        <nav class="flex-1 overflow-y-auto py-6 px-3 space-y-1">
            <button onclick="switchTab('dashboard')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-all bg-slate-800/50 text-teal-400 border-l-2 border-teal-500" id="nav-dashboard">
                <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                <span class="font-medium">Dashboard</span>
            </button>
            <button onclick="switchTab('ai-coach')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-all" id="nav-ai-coach">
                <i data-lucide="bot" class="w-5 h-5"></i>
                <span class="font-medium">AI Career Coach</span>
                <span class="ml-auto bg-teal-500/20 text-teal-400 text-[10px] px-2 py-0.5 rounded-full font-bold">LIVE</span>
            </button>
            <button onclick="switchTab('roadmap')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-all" id="nav-roadmap">
                <i data-lucide="map" class="w-5 h-5"></i>
                <span class="font-medium">3D Roadmap</span>
            </button>
            <button onclick="switchTab('mentors')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-all" id="nav-mentors">
                <i data-lucide="users" class="w-5 h-5"></i>
                <span class="font-medium">Mentor Connect</span>
            </button>
            <button onclick="switchTab('insights')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-all" id="nav-insights">
                <i data-lucide="trending-up" class="w-5 h-5"></i>
                <span class="font-medium">Industry Insights</span>
            </button>
        </nav>

        <div class="p-4 border-t border-slate-800">
            <div class="glass-panel p-4 rounded-xl">
                <div class="flex items-center gap-3 mb-3">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" class="w-10 h-10 rounded-full bg-slate-700">
                    <div>
                        <p class="text-sm font-semibold text-white">Student User</p>
                        <p class="text-xs text-teal-400">Freemium Plan</p>
                    </div>
                </div>
                <button class="w-full py-2 bg-gradient-to-r from-teal-600 to-emerald-600 rounded-lg text-xs font-bold text-white shadow-lg hover:shadow-teal-500/25 transition-all">
                    Upgrade to Pro ($8.99)
                </button>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 lg:ml-64 h-full relative overflow-hidden bg-slate-950">
        
        <!-- Header -->
        <header class="absolute top-0 left-0 right-0 h-16 bg-slate-900/80 backdrop-blur-md border-b border-slate-800 flex items-center justify-between px-6 z-30">
            <button class="lg:hidden text-slate-400" onclick="toggleMobileMenu()">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
            <div class="text-sm text-slate-400 hidden sm:block">
                Welcome back, let's shape your future today.
            </div>
            <div class="flex items-center gap-4">
                <button class="relative p-2 text-slate-400 hover:text-white transition-colors">
                    <i data-lucide="bell" class="w-5 h-5"></i>
                    <span class="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"></span>
                </button>
                <button class="p-2 text-slate-400 hover:text-white transition-colors">
                    <i data-lucide="settings" class="w-5 h-5"></i>
                </button>
            </div>
        </header>

        <!-- View: Dashboard -->
        <section id="view-dashboard" class="view-section pt-20 px-6 pb-6 h-full overflow-y-auto">
            <div class="max-w-6xl mx-auto space-y-8">
                
                <!-- Hero Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="glass-panel p-6 rounded-2xl relative overflow-hidden group">
                        <div class="absolute -right-4 -top-4 w-24 h-24 bg-teal-500/10 rounded-full blur-2xl group-hover:bg-teal-500/20 transition-all"></div>
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <p class="text-slate-400 text-sm font-medium">Career Clarity Score</p>
                                <h3 class="text-3xl font-bold text-white mt-1">85%</h3>
                            </div>
                            <div class="p-2 bg-teal-500/10 rounded-lg text-teal-400">
                                <i data-lucide="target" class="w-5 h-5"></i>
                            </div>
                        </div>
                        <p class="text-xs text-slate-400">Up 12% from last week</p>
                        <div class="w-full bg-slate-700 h-1.5 mt-4 rounded-full overflow-hidden">
                            <div class="bg-gradient-to-r from-teal-400 to-emerald-500 h-full w-[85%]"></div>
                        </div>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl relative overflow-hidden group">
                        <div class="absolute -right-4 -top-4 w-24 h-24 bg-purple-500/10 rounded-full blur-2xl group-hover:bg-purple-500/20 transition-all"></div>
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <p class="text-slate-400 text-sm font-medium">Skills Mastered</p>
                                <h3 class="text-3xl font-bold text-white mt-1">12</h3>
                            </div>
                            <div class="p-2 bg-purple-500/10 rounded-lg text-purple-400">
                                <i data-lucide="award" class="w-5 h-5"></i>
                            </div>
                        </div>
                        <p class="text-xs text-slate-400">3 badges earned recently</p>
                        <div class="flex -space-x-2 mt-4">
                            <div class="w-8 h-8 rounded-full bg-slate-800 border-2 border-slate-700 flex items-center justify-center text-xs">JS</div>
                            <div class="w-8 h-8 rounded-full bg-slate-800 border-2 border-slate-700 flex items-center justify-center text-xs">Py</div>
                            <div class="w-8 h-8 rounded-full bg-slate-800 border-2 border-slate-700 flex items-center justify-center text-xs">AI</div>
                        </div>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl relative overflow-hidden group">
                        <div class="absolute -right-4 -top-4 w-24 h-24 bg-orange-500/10 rounded-full blur-2xl group-hover:bg-orange-500/20 transition-all"></div>
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <p class="text-slate-400 text-sm font-medium">Upcoming Session</p>
                                <h3 class="text-xl font-bold text-white mt-1">Today, 4:00 PM</h3>
                            </div>
                            <div class="p-2 bg-orange-500/10 rounded-lg text-orange-400">
                                <i data-lucide="video" class="w-5 h-5"></i>
                            </div>
                        </div>
                        <p class="text-xs text-slate-400 mb-2">Mentor: Sarah Jenkins (Google)</p>
                        <button class="text-xs bg-orange-500/20 text-orange-400 py-1 px-3 rounded border border-orange-500/30 hover:bg-orange-500/30 transition-all">
                            Join Meeting
                        </button>
                    </div>
                </div>

                <!-- Problem Statement Context -->
                <div class="glass-panel p-6 rounded-2xl border-l-4 border-red-500 bg-gradient-to-r from-slate-900 to-slate-800">
                    <h3 class="text-lg font-semibold text-white mb-2 flex items-center gap-2">
                        <i data-lucide="alert-circle" class="text-red-500 w-5 h-5"></i>
                        Why you are here
                    </h3>
                    <p class="text-slate-300 text-sm leading-relaxed max-w-3xl">
                        "Today only 10.4% of Indian students receive formal career guidance." <span class="italic text-slate-500">- Bharat Career Aspirations Report 2025</span>. 
                        Don't be part of the confused majority. Use our AI tools to discover paths that match your passion.
                    </p>
                </div>

                <!-- Recommendations -->
                <div>
                    <h2 class="text-xl font-bold text-white mb-4">Recommended Career Paths</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Card 1 -->
                        <div class="glass-panel p-4 rounded-xl hover:translate-y-1 transition-transform cursor-pointer border border-slate-700 hover:border-teal-500/50">
                            <div class="h-32 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-700 mb-4 flex items-center justify-center">
                                <i data-lucide="code-2" class="w-12 h-12 text-white/80"></i>
                            </div>
                            <h4 class="font-bold text-white">Full Stack Dev</h4>
                            <p class="text-xs text-slate-400 mt-1 mb-3">High demand. Avg Salary: $85k</p>
                            <div class="flex items-center gap-2 text-teal-400 text-xs font-medium">
                                <span>92% Match</span>
                                <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </div>
                        </div>

                        <!-- Card 2 -->
                        <div class="glass-panel p-4 rounded-xl hover:translate-y-1 transition-transform cursor-pointer border border-slate-700 hover:border-purple-500/50">
                            <div class="h-32 rounded-lg bg-gradient-to-br from-purple-600 to-pink-700 mb-4 flex items-center justify-center">
                                <i data-lucide="database" class="w-12 h-12 text-white/80"></i>
                            </div>
                            <h4 class="font-bold text-white">Data Scientist</h4>
                            <p class="text-xs text-slate-400 mt-1 mb-3">Trending. Avg Salary: $95k</p>
                            <div class="flex items-center gap-2 text-purple-400 text-xs font-medium">
                                <span>88% Match</span>
                                <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </div>
                        </div>

                        <!-- Card 3 -->
                        <div class="glass-panel p-4 rounded-xl hover:translate-y-1 transition-transform cursor-pointer border border-slate-700 hover:border-orange-500/50">
                            <div class="h-32 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 mb-4 flex items-center justify-center">
                                <i data-lucide="pen-tool" class="w-12 h-12 text-white/80"></i>
                            </div>
                            <h4 class="font-bold text-white">UI/UX Designer</h4>
                            <p class="text-xs text-slate-400 mt-1 mb-3">Creative. Avg Salary: $75k</p>
                            <div class="flex items-center gap-2 text-orange-400 text-xs font-medium">
                                <span>75% Match</span>
                                <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </div>
                        </div>

                        <!-- Card 4 -->
                        <div class="glass-panel p-4 rounded-xl hover:translate-y-1 transition-transform cursor-pointer border border-slate-700 hover:border-blue-500/50 flex flex-col justify-center items-center text-center">
                            <div class="w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-3">
                                <i data-lucide="plus" class="w-6 h-6 text-slate-400"></i>
                            </div>
                            <h4 class="font-bold text-slate-300">Explore More</h4>
                            <p class="text-xs text-slate-500 mt-1">Take the assessment again</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- View: AI Coach -->
        <section id="view-ai-coach" class="view-section hidden pt-20 px-4 pb-4 h-full flex flex-col">
            <div class="flex-1 max-w-4xl mx-auto w-full flex flex-col glass-panel rounded-2xl overflow-hidden border border-slate-700">
                <!-- Chat Header -->
                <div class="p-4 border-b border-slate-700 bg-slate-900/50 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg">
                            <i data-lucide="sparkles" class="text-white w-5 h-5"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-white">AI Career Coach</h3>
                            <div class="flex items-center gap-1.5">
                                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                <span class="text-xs text-slate-400">Online | Powered by Gemini</span>
                            </div>
                        </div>
                    </div>
                    <button class="p-2 hover:bg-slate-800 rounded-full transition-colors">
                        <i data-lucide="more-vertical" class="text-slate-400 w-5 h-5"></i>
                    </button>
                </div>

                <!-- Chat Messages Area -->
                <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-900/30">
                    <!-- Intro Message -->
                    <div class="flex items-end gap-2">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex-shrink-0 flex items-center justify-center">
                            <i data-lucide="bot" class="text-white w-4 h-4"></i>
                        </div>
                        <div class="chat-bubble-ai p-3 max-w-[80%] text-sm text-slate-200 shadow-md">
                            Hello! I'm your personal AI Career Advisor. I can analyze your skills, suggest roadmaps, or help clear your confusion. What's on your mind today?
                        </div>
                    </div>
                    
                    <!-- Suggested Chips -->
                    <div class="flex flex-wrap gap-2 pl-10" id="chat-chips">
                        <button onclick="sendPredefined('I am confused about my career')" class="px-3 py-1.5 rounded-full bg-slate-800 border border-slate-700 text-xs text-slate-300 hover:bg-teal-500/20 hover:border-teal-500/50 hover:text-teal-400 transition-all">I'm confused üòï</button>
                        <button onclick="sendPredefined('Create a roadmap for Full Stack Dev')" class="px-3 py-1.5 rounded-full bg-slate-800 border border-slate-700 text-xs text-slate-300 hover:bg-teal-500/20 hover:border-teal-500/50 hover:text-teal-400 transition-all">Make a Roadmap üó∫Ô∏è</button>
                        <button onclick="sendPredefined('Find me a mentor')" class="px-3 py-1.5 rounded-full bg-slate-800 border border-slate-700 text-xs text-slate-300 hover:bg-teal-500/20 hover:border-teal-500/50 hover:text-teal-400 transition-all">Need a Mentor üë®‚Äçüè´</button>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="p-4 border-t border-slate-700 bg-slate-900/50">
                    <form id="chat-form" onsubmit="handleChat(event)" class="flex items-center gap-3 relative">
                        <button type="button" class="p-2 text-slate-400 hover:text-teal-400 transition-colors" title="Upload Resume">
                            <i data-lucide="paperclip" class="w-5 h-5"></i>
                        </button>
                        <input type="text" id="chat-input" placeholder="Ask about careers, colleges, or skills..." 
                            class="flex-1 bg-slate-800 border-none rounded-xl px-4 py-3 text-sm text-white focus:ring-2 focus:ring-teal-500/50 focus:outline-none placeholder-slate-500">
                        <button type="button" class="absolute right-14 top-1/2 -translate-y-1/2 p-1.5 text-slate-400 hover:text-white bg-slate-700 rounded-lg">
                            <i data-lucide="mic" class="w-4 h-4"></i>
                        </button>
                        <button type="submit" class="p-3 bg-teal-600 hover:bg-teal-500 rounded-xl text-white shadow-lg shadow-teal-600/20 transition-all">
                            <i data-lucide="send" class="w-5 h-5"></i>
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- View: 3D Roadmap -->
        <section id="view-roadmap" class="view-section hidden h-full w-full absolute top-0 left-0 pt-16 z-0">
            <!-- Overlay UI -->
            <div class="absolute top-20 left-6 z-10 max-w-sm pointer-events-none">
                <div class="glass-panel p-4 rounded-xl pointer-events-auto">
                    <h2 class="text-xl font-bold text-white flex items-center gap-2">
                        <i data-lucide="git-branch" class="text-teal-400"></i>
                        Interactive Roadmap
                    </h2>
                    <p class="text-xs text-slate-400 mt-1">Drag nodes to explore. Scroll to zoom. Click nodes for resources.</p>
                    
                    <div class="mt-4 space-y-2">
                        <div class="flex items-center gap-2 text-xs">
                            <span class="w-3 h-3 rounded-full bg-teal-500"></span>
                            <span class="text-slate-300">Frontend (Mastered)</span>
                        </div>
                        <div class="flex items-center gap-2 text-xs">
                            <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                            <span class="text-slate-300">Backend (In Progress)</span>
                        </div>
                        <div class="flex items-center gap-2 text-xs">
                            <span class="w-3 h-3 rounded-full bg-slate-600"></span>
                            <span class="text-slate-300">DevOps (Locked)</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3D Canvas Container -->
            <div id="canvas-container" class="w-full h-full bg-gradient-to-b from-slate-900 to-slate-950"></div>
            
            <!-- Context Menu (Hidden by default) -->
            <div id="node-modal" class="hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 glass-panel border border-teal-500/30 p-5 rounded-xl shadow-2xl z-20">
                <div class="flex justify-between items-start mb-3">
                    <h3 id="modal-title" class="text-lg font-bold text-white">React.js</h3>
                    <button onclick="closeNodeModal()" class="text-slate-400 hover:text-white"><i data-lucide="x" class="w-5 h-5"></i></button>
                </div>
                <p class="text-xs text-slate-300 mb-4">A JavaScript library for building user interfaces.</p>
                <div class="space-y-2">
                    <button class="w-full flex items-center justify-between p-2 rounded bg-slate-800 hover:bg-slate-700 text-xs transition-colors">
                        <span class="flex items-center gap-2"><i data-lucide="play-circle" class="w-4 h-4 text-red-500"></i> Video Tutorial</span>
                        <span class="text-slate-500">12m</span>
                    </button>
                    <button class="w-full flex items-center justify-between p-2 rounded bg-slate-800 hover:bg-slate-700 text-xs transition-colors">
                        <span class="flex items-center gap-2"><i data-lucide="file-text" class="w-4 h-4 text-blue-500"></i> Documentation</span>
                        <span class="text-slate-500">Link</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- View: Mentors -->
        <section id="view-mentors" class="view-section hidden pt-20 px-6 pb-6 h-full overflow-y-auto">
            <div class="max-w-6xl mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-white">Find a Mentor</h2>
                        <p class="text-sm text-slate-400">1:1 connections with industry experts</p>
                    </div>
                    <div class="flex gap-2">
                        <select class="bg-slate-800 text-sm text-white border-none rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500">
                            <option>All Domains</option>
                            <option>Software</option>
                            <option>Design</option>
                            <option>Marketing</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Mentor Card 1 -->
                    <div class="glass-panel p-5 rounded-2xl border border-slate-700 group hover:border-teal-500/50 transition-all">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Annie" class="w-12 h-12 rounded-full bg-slate-700">
                                <div>
                                    <h4 class="font-bold text-white">Priya Sharma</h4>
                                    <p class="text-xs text-slate-400">SDE II @ Microsoft</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-1 text-xs font-bold text-yellow-400 bg-yellow-400/10 px-2 py-1 rounded">
                                <i data-lucide="star" class="w-3 h-3 fill-current"></i>
                                4.9
                            </div>
                        </div>
                        <div class="flex gap-2 mb-4">
                            <span class="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">Mock Interview</span>
                            <span class="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">Resume Review</span>
                        </div>
                        <p class="text-xs text-slate-400 mb-4 line-clamp-2">Ex-Amazon. I help students crack FAANG interviews with detailed roadmap strategies.</p>
                        <div class="flex items-center justify-between mt-auto">
                            <span class="text-sm font-bold text-white">‚Çπ500 <span class="text-xs text-slate-500 font-normal">/ session</span></span>
                            <button class="bg-white text-slate-900 px-4 py-2 rounded-lg text-xs font-bold hover:bg-slate-200 transition-colors">
                                Book Now
                            </button>
                        </div>
                    </div>

                    <!-- Mentor Card 2 -->
                    <div class="glass-panel p-5 rounded-2xl border border-slate-700 group hover:border-teal-500/50 transition-all">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Robert" class="w-12 h-12 rounded-full bg-slate-700">
                                <div>
                                    <h4 class="font-bold text-white">Rahul Verma</h4>
                                    <p class="text-xs text-slate-400">Product Designer @ Swiggy</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-1 text-xs font-bold text-yellow-400 bg-yellow-400/10 px-2 py-1 rounded">
                                <i data-lucide="star" class="w-3 h-3 fill-current"></i>
                                4.8
                            </div>
                        </div>
                        <div class="flex gap-2 mb-4">
                            <span class="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">Portfolio Review</span>
                            <span class="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">UX Guidance</span>
                        </div>
                        <p class="text-xs text-slate-400 mb-4 line-clamp-2">Designing scalable products. I can help you build a killer portfolio.</p>
                        <div class="flex items-center justify-between mt-auto">
                            <span class="text-sm font-bold text-white">‚Çπ400 <span class="text-xs text-slate-500 font-normal">/ session</span></span>
                            <button class="bg-white text-slate-900 px-4 py-2 rounded-lg text-xs font-bold hover:bg-slate-200 transition-colors">
                                Book Now
                            </button>
                        </div>
                    </div>

                    <!-- Mentor Card 3 -->
                    <div class="glass-panel p-5 rounded-2xl border border-slate-700 group hover:border-teal-500/50 transition-all">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Jasmine" class="w-12 h-12 rounded-full bg-slate-700">
                                <div>
                                    <h4 class="font-bold text-white">Ananya Singh</h4>
                                    <p class="text-xs text-slate-400">AI Researcher @ Google</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-1 text-xs font-bold text-yellow-400 bg-yellow-400/10 px-2 py-1 rounded">
                                <i data-lucide="star" class="w-3 h-3 fill-current"></i>
                                5.0
                            </div>
                        </div>
                        <div class="flex gap-2 mb-4">
                            <span class="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">Research</span>
                            <span class="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 rounded border border-slate-700">ML/AI Path</span>
                        </div>
                        <p class="text-xs text-slate-400 mb-4 line-clamp-2">Specializing in NLP and Transformers. Let's discuss the future of AI.</p>
                        <div class="flex items-center justify-between mt-auto">
                            <span class="text-sm font-bold text-white">‚Çπ800 <span class="text-xs text-slate-500 font-normal">/ session</span></span>
                            <button class="bg-white text-slate-900 px-4 py-2 rounded-lg text-xs font-bold hover:bg-slate-200 transition-colors">
                                Book Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- View: Insights -->
        <section id="view-insights" class="view-section hidden pt-20 px-6 pb-6 h-full overflow-y-auto">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-2xl font-bold text-white mb-6">Industry Insights & Trends</h2>
                
                <div class="space-y-4">
                    <!-- News Item -->
                    <div class="glass-panel p-5 rounded-xl border-l-4 border-teal-500 hover:bg-slate-800/50 transition-colors">
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-lg text-white">AI Engineering Roles Grow by 200%</h3>
                            <span class="text-xs text-slate-500">2 hrs ago</span>
                        </div>
                        <p class="text-sm text-slate-400 mt-2">According to the latest Bharat Career Report, demand for prompt engineers and AI architects has tripled in Bangalore and NCR.</p>
                        <div class="mt-3 flex gap-2">
                            <span class="text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded">Tech</span>
                            <span class="text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded">Growth</span>
                        </div>
                    </div>

                    <!-- News Item -->
                    <div class="glass-panel p-5 rounded-xl border-l-4 border-purple-500 hover:bg-slate-800/50 transition-colors">
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-lg text-white">Top 5 Colleges for Robotics in 2026</h3>
                            <span class="text-xs text-slate-500">Yesterday</span>
                        </div>
                        <p class="text-sm text-slate-400 mt-2">New curriculum changes in IITs and NITs focus heavily on automation. Check if your dream college made the list.</p>
                        <div class="mt-3 flex gap-2">
                            <span class="text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded">Education</span>
                            <span class="text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded">Colleges</span>
                        </div>
                    </div>

                    <!-- Chart Placeholder -->
                    <div class="glass-panel p-6 rounded-xl mt-8">
                        <h4 class="font-bold text-white mb-4">Salary Trends (Frontend vs Fullstack)</h4>
                        <div class="h-48 flex items-end justify-between gap-2 px-4 border-b border-slate-700 pb-2">
                            <div class="w-full bg-teal-500/20 h-[40%] rounded-t hover:h-[45%] transition-all relative group">
                                <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-white opacity-0 group-hover:opacity-100">4LPA</span>
                            </div>
                            <div class="w-full bg-teal-500/40 h-[50%] rounded-t hover:h-[55%] transition-all relative group">
                                <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-white opacity-0 group-hover:opacity-100">6LPA</span>
                            </div>
                            <div class="w-full bg-teal-500/60 h-[70%] rounded-t hover:h-[75%] transition-all relative group">
                                <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-white opacity-0 group-hover:opacity-100">12LPA</span>
                            </div>
                            <div class="w-full bg-teal-500/80 h-[85%] rounded-t hover:h-[90%] transition-all relative group">
                                <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-white opacity-0 group-hover:opacity-100">18LPA</span>
                            </div>
                        </div>
                        <div class="flex justify-between text-xs text-slate-500 mt-2">
                            <span>Intern</span>
                            <span>Junior</span>
                            <span>Mid-Level</span>
                            <span>Senior</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Navigation Logic ---
        function switchTab(tabId) {
            // Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
            
            // Show selected view
            const selectedView = document.getElementById(`view-${tabId}`);
            selectedView.classList.remove('hidden');

            // Update Sidebar Active State
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-slate-800/50', 'text-teal-400', 'border-l-2', 'border-teal-500');
                btn.classList.add('text-slate-300');
            });

            const activeBtn = document.getElementById(`nav-${tabId}`);
            activeBtn.classList.add('bg-slate-800/50', 'text-teal-400', 'border-l-2', 'border-teal-500');
            activeBtn.classList.remove('text-slate-300');

            // Close mobile menu if open
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-menu-overlay');
            if (window.innerWidth < 1024 && !sidebar.classList.contains('-translate-x-full')) {
                toggleMobileMenu();
            }

            // Init 3D scene if roadmap tab
            if (tabId === 'roadmap') {
                setTimeout(initThreeJS, 100); // Small delay to ensure container is visible
            }
        }

        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-menu-overlay');
            
            if (sidebar.classList.contains('-translate-x-full')) {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
            } else {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        // --- 2. Chat Logic (AI Simulation) ---
        function handleChat(e) {
            e.preventDefault();
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            input.value = '';
            
            // Simulate AI Typing
            const typingIndicator = document.createElement('div');
            typingIndicator.id = 'typing-indicator';
            typingIndicator.className = 'flex items-center gap-2 text-xs text-slate-500 ml-10';
            typingIndicator.innerHTML = '<span class="animate-bounce">‚óè</span><span class="animate-bounce delay-100">‚óè</span><span class="animate-bounce delay-200">‚óè</span> Analyzing...';
            document.getElementById('chat-messages').appendChild(typingIndicator);
            scrollToBottom();

            setTimeout(() => {
                document.getElementById('typing-indicator').remove();
                generateAIResponse(message);
            }, 1500);
        }

        function sendPredefined(msg) {
            document.getElementById('chat-input').value = msg;
            handleChat(new Event('submit'));
        }

        function addMessage(text, sender) {
            const container = document.getElementById('chat-messages');
            const wrapper = document.createElement('div');
            wrapper.className = sender === 'user' ? 'flex items-end justify-end gap-2' : 'flex items-end gap-2';
            
            const avatar = sender === 'user' 
                ? `<div class="w-8 h-8 rounded-full bg-slate-700 flex-shrink-0 flex items-center justify-center order-2"><i data-lucide="user" class="text-white w-4 h-4"></i></div>`
                : `<div class="w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex-shrink-0 flex items-center justify-center"><i data-lucide="bot" class="text-white w-4 h-4"></i></div>`;
            
            const bubbleClass = sender === 'user' ? 'chat-bubble-user text-white' : 'chat-bubble-ai text-slate-200';
            
            wrapper.innerHTML = `
                ${sender === 'ai' ? avatar : ''}
                <div class="${bubbleClass} p-3 max-w-[80%] text-sm shadow-md animate-[fadeIn_0.3s_ease-out]">
                    ${text}
                </div>
                ${sender === 'user' ? avatar : ''}
            `;
            
            container.appendChild(wrapper);
            scrollToBottom();
        }

        function generateAIResponse(input) {
            input = input.toLowerCase();
            let response = "";

            if (input.includes("confused") || input.includes("lost")) {
                response = "It's completely normal to feel confused! üåü Based on your profile, you have strong logic skills. Have you considered **Full Stack Development** or **Data Analysis**? Both align with your grades in math and CS.";
            } else if (input.includes("roadmap")) {
                response = "I've generated a personalized roadmap for you! Check the **3D Roadmap** tab. It starts with HTML/CSS, moves to React, and ends with Node.js backend integration. üó∫Ô∏è";
            } else if (input.includes("mentor")) {
                response = "Connecting with a mentor is a great step. I recommend **Priya Sharma** (Ex-Amazon) for coding interviews or **Rahul** for design. Check the 'Mentor Connect' tab to book a slot!";
            } else if (input.includes("salary") || input.includes("money")) {
                response = "Entry-level Full Stack Developers in India typically start between ‚Çπ5-12 LPA depending on skills. Remote US jobs can pay significantly more!";
            } else {
                response = "That's an interesting question. To give you the best advice, could you tell me a bit more about your favorite subjects or hobbies?";
            }

            addMessage(response, 'ai');
        }

        function scrollToBottom() {
            const container = document.getElementById('chat-messages');
            container.scrollTop = container.scrollHeight;
        }

        // --- 3. Three.js 3D Roadmap Implementation ---
        let scene, camera, renderer, nodes = [];
        let isThreeInit = false;

        function initThreeJS() {
            if (isThreeInit) return;
            
            const container = document.getElementById('canvas-container');
            const width = container.clientWidth;
            const height = container.clientHeight;

            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0f172a); // Matches Slate-900

            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.z = 15;
            camera.position.y = 2;

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const pointLight = new THREE.PointLight(0x14b8a6, 1);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            // Create Roadmap Nodes
            const roadMapData = [
                { id: 1, label: 'HTML/CSS', x: -6, y: -4, color: 0x14b8a6 }, // Teal (Completed)
                { id: 2, label: 'JavaScript', x: -3, y: -2, color: 0x14b8a6 },
                { id: 3, label: 'React', x: 0, y: 0, color: 0x3b82f6 }, // Blue (Current)
                { id: 4, label: 'Node.js', x: 3, y: 2, color: 0x475569 }, // Gray (Future)
                { id: 5, label: 'DB', x: 6, y: 4, color: 0x475569 }
            ];

            // Create Lines connecting nodes
            const points = roadMapData.map(d => new THREE.Vector3(d.x, d.y, 0));
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ color: 0x334155, linewidth: 2 });
            const line = new THREE.Line(geometry, material);
            scene.add(line);

            // Create Spheres (Nodes)
            roadMapData.forEach(data => {
                const geometry = new THREE.SphereGeometry(0.8, 32, 32);
                const material = new THREE.MeshStandardMaterial({ 
                    color: data.color,
                    roughness: 0.3,
                    metalness: 0.7
                });
                const sphere = new THREE.Mesh(geometry, material);
                sphere.position.set(data.x, data.y, 0);
                sphere.userData = { id: data.id, label: data.label };
                scene.add(sphere);
                nodes.push(sphere);
                
                // Add simple glow effect
                if(data.color !== 0x475569) {
                     const glowGeo = new THREE.SphereGeometry(1, 32, 32);
                     const glowMat = new THREE.MeshBasicMaterial({ 
                         color: data.color, 
                         transparent: true, 
                         opacity: 0.15 
                     });
                     const glow = new THREE.Mesh(glowGeo, glowMat);
                     glow.position.set(data.x, data.y, 0);
                     scene.add(glow);
                }
            });

            // Particles Background
            const starsGeometry = new THREE.BufferGeometry();
            const starsCount = 500;
            const posArray = new Float32Array(starsCount * 3);
            for(let i = 0; i < starsCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 50;
            }
            starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const starsMaterial = new THREE.PointsMaterial({ size: 0.05, color: 0xffffff, transparent: true, opacity: 0.5 });
            const stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);

            // Interaction - Raycaster
            const raycaster = new THREE.Raycaster();
            const mouse = new THREE.Vector2();

            function onMouseClick(event) {
                const rect = renderer.domElement.getBoundingClientRect();
                mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
                mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(nodes);

                if (intersects.length > 0) {
                    const obj = intersects[0].object;
                    showNodeModal(obj.userData.label);
                }
            }
            
            renderer.domElement.addEventListener('click', onMouseClick);
            
            // Animation Loop
            function animate() {
                requestAnimationFrame(animate);
                
                // Gentle float animation for nodes
                const time = Date.now() * 0.001;
                nodes.forEach((node, i) => {
                    node.position.y += Math.sin(time + i) * 0.002;
                });

                stars.rotation.y += 0.0005;

                renderer.render(scene, camera);
            }
            animate();
            isThreeInit = true;

            // Handle Resize
            window.addEventListener('resize', () => {
                const width = container.clientWidth;
                const height = container.clientHeight;
                renderer.setSize(width, height);
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
            });
        }

        function showNodeModal(label) {
            const modal = document.getElementById('node-modal');
            const title = document.getElementById('modal-title');
            title.innerText = label;
            modal.classList.remove('hidden');
        }

        function closeNodeModal() {
            document.getElementById('node-modal').classList.add('hidden');
        }

        // Initialize Lucide Icons
        lucide.createIcons();

        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            // Check for URL hash to set tab if needed, else default to dashboard
            switchTab('dashboard');
        });

    </script>
</body>
</html>